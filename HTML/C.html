<%@ page pageEncoding="UTF-8"%>

<h1>Problem C: Unhappy Class</h1>

<h2>Problem</h2>
<p>
  山之御船学園の1年G組は、不幸を背負った女子高生たちが集まるクラスである。<br>
  彼女たちは、幸福になることを目標に、日々様々な試練に立ち向かう。<br><br>

  彼女たちのクラスでは、幸福になるための試練の一環として、幸福実技科目を受講することができる。。<br>
  月曜から金曜のそれぞれ1限から<var>N</var>限までに授業科目の枠があり、<var>M</var>個の受講可能な幸福実技科目がある。<br><br>
  
  幸福実技科目<var>i</var>は、曜日<var>d<sub>i</sub></var>(<var>d<sub>i</sub></var> = 0, 1, 2, 3, 4がそれぞれ、月曜、火曜、水曜、木曜、金曜に対応する)の<var>a<sub>i</sub></var>限目から始まり、連続する<var>k<sub>i</sub></var>コマで行われ、それを受講したときに得られる幸福度は<var>t<sub>i</sub></var>である。<br><br>

  彼女たちは、他の科目と重ならないように最大<var>L</var>個の科目を自由に選ぶことができる。どのように科目を選べば、最も高い幸福度を得られるだろうか。。<br><br>

  あなたは、与えられた科目の情報から、得られる幸福度の最大値を求めるプログラムを作成し、彼女たちを助けることにした。
</p>

<h2>Input</h2>
<p>入力は以下の形式で与えられる。</p>
<pre>
<var>N</var> <var>M</var> <var>L</var>
<var>d<sub>1</sub></var> <var>a<sub>1</sub></var> <var>k<sub>1</sub></var> <var>t<sub>1</sub></var>
<var>d<sub>2</sub></var> <var>a<sub>2</sub></var> <var>k<sub>2</sub></var> <var>t<sub>2</sub></var>
...
<var>d<sub>M</sub></var> <var>a<sub>M</sub></var> <var>k<sub>M</sub></var> <var>t<sub>M</sub></var>
</pre>
<p>
1行目に3つの整数<var>N</var>, <var>M</var>, <var>L</var>が空白区切りで与えられる。<br>
2行目から<var>M</var>+1行目に4つの整数<var>d<sub>i</sub></var>, <var>a<sub>i</sub></var>, <var>k<sub>i</sub></var>, <var>t<sub>i</sub></var>が空白区切りで与えられる。
</p>

<h2>Constraints</h2>
<p>入力は以下の条件を満たす。</p>
<ul>
    <li>2 &le; <var>N</var> &le; 8</li>
    <li>0 &le; <var>M</var> &le; 300</li>
    <li>0 &le; <var>L</var> &le; min(<var>N</var>&times;5, <var>M</var>)</li>
    <li>0 &le; <var>d<sub>i</sub></var> &le; 4</li>
    <li>1 &le; <var>a<sub>i</sub></var> &le; <var>N</var></li>
    <li>1 &le; <var>k<sub>i</sub></var></li>
    <li><var>a<sub>i</sub></var> + <var>k<sub>i</sub></var> - 1 &le; <var>N</var></li>
    <li>1 &le; <var>t<sub>i</sub></var> &le; 100</li>
</ul>

<h2>Output</h2>
<p>
幸福度の和の最大値を1行に出力する。
</p>

<h2>Sample Input 1</h2>
<pre>
3 7 3
0 1 1 1
0 1 1 2
1 1 3 4
1 1 1 1
1 2 1 2
2 1 1 3
2 2 2 1
</pre>

<h2>Sample Output 1</h2>
<pre>
9
</pre>

<h2>Sample Input 2</h2>
<pre>
5 10 5
0 1 1 2
0 2 1 2
0 1 2 3
1 2 1 2
1 4 2 3
2 1 1 1
2 1 1 2
3 3 2 3
4 1 1 2
4 2 1 2
</pre>

<h2>Sample Output 2</h2>
<pre>
13
</pre>
